<div class="row">
    <div class="col-md-12">
        <div class="box collapsed-box" id="my-box-widget">

            <!-- Head -->
            <div class="box-header with-border">
                <h3 class="box-title">Add item</h3>

                <div class="box-tools pull-right">
                    <button type="button" class="btn btn-box-tool" data-widget="collapse" 
                    (click)="itemForm.reset(); clear()">
                        <i class="fa fa-plus"></i>
                    </button>
                </div>
            </div>

            <!-- Success Msg -->
            <div *ngIf="success;then content1"></div>
            <ng-template #content1>
                <div class="box-header">
                    <div class="alert alert-success">
                        <h4><i class="fa fa-check" aria-hidden="true"></i> Item created</h4>
                    </div>
                </div>
            </ng-template>

            <!-- Failure Msg -->
            <div *ngIf="failure;then content2"></div>
            <ng-template #content2>
                <div class="box-header">
                    <div class="alert alert-danger">
                        <h4><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> {{msjError}} </h4>
                    </div>
                </div>
            </ng-template>

            <!-- Body -->
            <div class="box-body" style="display:none" id="">
                <div class="row">
                    <div class="col-md-12">
                        
                        <form #itemForm="ngForm" (ngSubmit)="onSubmit()" >
                            <div class="form-group">
                                <label for="name">Name</label>
                                <input type="text" class="form-control" id="name" required 
                                [(ngModel)]="model.name" name="name"
                                #name="ngModel">
                                <div [hidden]="name.valid || name.pristine" class="alert alert-danger">
                                    Name is required
                                </div>
                            </div>
                        
                            <div class="form-group">
                                <label for="code">Code</label>
                                <input type="text" class="form-control" id="code" required
                                [(ngModel)]="model.code" name="code"
                                #code="ngModel">
                                <div [hidden]="code.valid || code.pristine" class="alert alert-danger">
                                    Code is required
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="price">Price</label>
                                <input type="number" class="form-control" id="price" required
                                [(ngModel)]="model.price " name="price"
                                #price="ngModel">
                                <div [hidden]="price.valid || price.pristine" class="alert alert-danger">
                                    Price is required
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="presentation">Presentation</label>
                                <input type="text" class="form-control" id="presentation" required
                                [(ngModel)]="model.presentation" name="presentation"
                                #presentation="ngModel">
                                <div [hidden]="presentation.valid || presentation.pristine" class="alert alert-danger">
                                    Presentation is required
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="variety">Variety</label>
                                <select class="form-control" id="variety" required name="variety"
                                    [(ngModel)]="variety_id">

                                    <option *ngFor="let variety of varieties" [value]="variety.id">
                                        {{variety.name}}
                                    </option>
                                </select>
                            </div>
                        
                            <button type="submit" class="btn btn-success" [disabled]="!itemForm.form.valid" 
                            (click)="widget()" >
                                Create Item
                            </button>
                            
                        </form>

                    </div>
                </div>
            </div>

        </div>
    </div>
</div>