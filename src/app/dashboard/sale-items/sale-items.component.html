<!-- Content Header (Page header) -->
<section class="content-header">
  <h1>
    Items Ventas
  </h1>
  <ol class="breadcrumb">
    <li>
      <a routerLink="/">
        <i class="fa fa-dashboard"></i> Dashboard</a>
    </li>
    <li class="active">Items Ventas</li>
  </ol>
</section>

<!-- Main content -->
<section class="content">

  <!-- Default box -->
  <div class="box">    
    <div class="box-body">
      <div class="col-md-12">
        <a class="btn btn-primary" routerLink="./../new-sale-item">Nuevo Item</a>
      </div>
      <div class="form-group col-md-4 col-md-push-8" style="display: block;">
        <input type="text" class="form-control" [(ngModel)]="searchValue" 
        placeholder="Buscar por nombre" [disabled]="!saleItems">
      </div>
      <div *ngIf="!saleItems" class="col-md-4 col-md-push-1" style="display: block;">
        <img src="assets/img/loading.gif" alt="Cargando...">
      </div>
      <div *ngIf="saleItems">
        <table [class.page-is-changing]="pageChanging" #saleItemsTable id="saleItemsTable"
               class="table table-striped table-bordered table-hover no-footer">
          <thead>
            <tr>
              <th>Nombre</th>
              <th>Código</th>
              <th>Precio</th>
              <th>Presentación</th>
              <th>Variedad</th>
              <th></th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let saleItem of saleItems | filterSaleItems: searchValue">
              <th>{{ saleItem.name }}</th>
              <th>{{ saleItem.code }}</th>
              <th>{{ saleItem.price }}</th>
              <th>{{ saleItem.presentation }}</th>
              <th>{{ saleItem.variety.name }}</th>
              <th>
                <a class="btn btn-info" routerLink="/dashboard/sale-items/sale-item-detail/{{ saleItem.id }}">Cambiar</a>
              </th>
            </tr>
          </tbody>
        </table>    
     
        <hr>
        <div *ngIf="saleItemsPage">
          <div class="col-md-4">
            Mostrando {{ saleItemsPage.from }} a {{ saleItemsPage.to }} de {{ saleItemsPage.total }} entradas
          </div>
          <div class="col-md-8">
            <nav>
              <ul class="pagination">
                <li [class.disabled]="saleItemsPage.current_page === 1">
                  <a (click)="goToPage(-1)" aria-label="Previous">
                    <span aria-hidden="true">&laquo;</span>
                  </a>
                </li>
                <li [class.active]="saleItemsPage.current_page === n" *ngFor="let n of pageNumbers" (click)="goToPage(n)">
                  <a> {{ n }}
                    <span class="sr-only">(current)</span>
                  </a>
                </li>
                <li [class.disabled]="saleItemsPage.current_page === saleItems.last_page">
                  <a (click)="goToPage(0)" aria-label="Next">
                    <span aria-hidden="true">&raquo;</span>
                  </a>
                </li>
              </ul>
            </nav>
          </div>
        </div>
      </div>
    </div>
    
    <!-- /.box-body -->    
  </div>
  <!-- /.box -->
</section>
<!-- /.content -->